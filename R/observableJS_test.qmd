---
title: "Observable JS"
format: 
  html:
    page-layout: custom
editor: visual
execute: 
  echo: false
  message: false
---

```{ojs}
//| output: false

tree = FileAttachment("data/final/Tree.csv")
  .csv({ typed: true })
  
seedling = FileAttachment("data/final/Seedling.csv")
  .csv({ typed: true })
  
site = FileAttachment("data/final/Site.csv")
  .csv({ typed: true })
  
visit = FileAttachment("data/final/Visit.csv")
  .csv({ typed: true })  
```


```{ojs}
viewof site_code = Inputs.select(["GBA", "GBA2"], {label: "Site Code:"})

```



# Plot

```{ojs}
Plot.rectY(filtered, 
  Plot.binX(
    {y: "count"}, 
    {x: "body_mass_g", fill: "species", thresholds: 20}
  ))
  .plot({
    facet: {
      data: filtered,
      x: "sex",
      y: "species",
      marginRight: 80
    },
    marks: [
      Plot.frame(),
    ]
  }
)
```

# Data

```{ojs}
Inputs.table(tree)
Inputs.table(seedling)
Inputs.table(site)
Inputs.table(visit)
```
